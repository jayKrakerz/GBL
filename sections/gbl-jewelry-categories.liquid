{% comment %}
  GBL Accessories Category Icons
  - Icon navigation for jewelry categories
  - Gold outlined icons on light background
  - Clean, minimal design with consistent  spacing
{% endcomment %}

{%- style -%}
    .gbl-category-icons {
      padding: 80px 0;
      background-color: #ffffff;
    }
  
    .gbl-category-icons__container {
      max-width: 1200px;
      width: 100%;
      margin: 0 auto;
      padding: 0 20px;
    }
  
    .gbl-category-icons__grid {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 20px;
    }
  
    .gbl-category-icons__item {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-decoration: none;
      transition: all 0.3s ease;
    }
  
    .gbl-category-icons__item:hover {
      transform: translateY(-5px);
    }
  
    .gbl-category-icons__icon-wrapper {
      width: 150px;
      height: 150px;
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: {{ section.settings.icon_background }};
      border-radius: {{ section.settings.border_radius }}px;
      margin-bottom: 15px;
      border: {{ section.settings.show_border | plus: 0 }}px solid {{ section.settings.icon_border_color }};
      transition: all 0.3s ease;
    }
  
    .gbl-category-icons__item:hover .gbl-category-icons__icon-wrapper {
      box-shadow: 0 5px 15px rgba(0,0,0,0.08);
    }
  
    .gbl-category-icons__icon {
      width: 60px;
      height: 60px;
      fill: none;
      stroke: {{ section.settings.icon_color }};
    }
  
    .gbl-category-icons__title {
      font-size: 14px;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: {{ section.settings.text_color }};
      text-align: center;
      font-weight: 500;
    }
  
    .gbl-category-icons__item--active .gbl-category-icons__icon-wrapper {
      background-color: {{ section.settings.active_background }};
      border-color: {{ section.settings.icon_color }};
    }
  
    .gbl-category-icons__item--active .gbl-category-icons__title {
      color: {{ section.settings.icon_color }};
      font-weight: 600;
    }
  
    @media screen and (max-width: 768px) {
      .gbl-category-icons {
        padding: 40px 0;
      }
      
      .gbl-category-icons__icon-wrapper {
        width: 120px;
        height: 120px;
      }
      
      .gbl-category-icons__icon {
        width: 45px;
        height: 45px;
      }
      
      .gbl-category-icons__title {
        font-size: 12px;
      }
    }
  
    @media screen and (max-width: 480px) {
      .gbl-category-icons__grid {
        gap: 10px;
      }
      
      .gbl-category-icons__icon-wrapper {
        width: 80px;
        height: 80px;
      }
      
      .gbl-category-icons__icon {
        width: 30px;
        height: 30px;
      }
    }
  {%- endstyle -%}
  
  <div class="gbl-category-icons">
    <div class="gbl-category-icons__container">
      <div class="gbl-category-icons__grid">
        {% for block in section.blocks %}
          {% assign is_active = false %}
          {% if request.path contains block.settings.link %}
            {% assign is_active = true %}
          {% endif %}
          
          <a href="{{ block.settings.link }}" class="gbl-category-icons__item{% if is_active %} gbl-category-icons__item--active{% endif %}" {{ block.shopify_attributes }}>
            <div class="gbl-category-icons__icon-wrapper">
              {% if block.settings.custom_icon != blank %}
                <img 
                  src="{{ block.settings.custom_icon | img_url: '120x' }}" 
                  alt="{{ block.settings.title }}" 
                  class="gbl-category-icons__icon"
                  width="60"
                  height="60"
                  loading="lazy"
                >
              {% else %}
                {% case block.settings.icon %}
                  {% when 'rings' %}
                    <svg class="gbl-category-icons__icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <circle cx="8" cy="14" r="5" stroke-width="1.5" />
                      <circle cx="16" cy="14" r="5" stroke-width="1.5" />
                      <path d="M10.5 7.5V8.5C10.5 9.05228 10.0523 9.5 9.5 9.5H8.5C7.94772 9.5 7.5 9.05228 7.5 8.5V7.5C7.5 6.94772 7.94772 6.5 8.5 6.5H9.5C10.0523 6.5 10.5 6.94772 10.5 7.5Z" stroke-width="1.5" />
                    </svg>
                  {% when 'bracelet' %}
                    <svg class="gbl-category-icons__icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <circle cx="12" cy="12" r="7" stroke-width="1.5" />
                      <path d="M8 8C8.5 7.5 11 6 12 6C13 6 15.5 7.5 16 8" stroke-width="1.5" />
                      <path d="M8 16C8.5 16.5 11 18 12 18C13 18 15.5 16.5 16 16" stroke-width="1.5" />
                      <circle cx="7.5" cy="7.5" r="1" stroke-width="1.5" />
                      <circle cx="16.5" cy="7.5" r="1" stroke-width="1.5" />
                    </svg>
                  {% when 'earrings' %}
                    <svg class="gbl-category-icons__icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M7 12C7 12 8 10.5 8 9C8 7.34315 6.65685 6 5 6C3.34315 6 2 7.34315 2 9C2 10.5 3 12 3 12L4.5 14.5C4.77614 14.9 5.22386 14.9 5.5 14.5L7 12Z" stroke-width="1.5" />
                      <path d="M21 12C21 12 20 10.5 20 9C20 7.34315 18.6569 6 17 6C15.3431 6 14 7.34315 14 9C14 10.5 15 12 15 12L16.5 14.5C16.7761 14.9 17.2239 14.9 17.5 14.5L21 12Z" stroke-width="1.5" />
                    </svg>
                  {% when 'necklace' %}
                    <svg class="gbl-category-icons__icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M12 7C16.4183 7 20 9 20 12C20 15 16.4183 17 12 17C7.58172 17 4 15 4 12C4 9 7.58172 7 12 7Z" stroke-width="1.5" />
                      <path d="M11 13L12 14L13 13L14 14" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                  {% when 'chain' %}
                    <svg class="gbl-category-icons__icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M4 8L6 8C7.10457 8 8 7.10457 8 6C8 4.89543 7.10457 4 6 4C4.89543 4 4 4.89543 4 6L4 8Z" stroke-width="1.5" />
                      <path d="M8 8L10 8C11.1046 8 12 7.10457 12 6C12 4.89543 11.1046 4 10 4C8.89543 4 8 4.89543 8 6L8 8Z" stroke-width="1.5" />
                      <path d="M12 8L14 8C15.1046 8 16 7.10457 16 6C16 4.89543 15.1046 4 14 4C12.8954 4 12 4.89543 12 6L12 8Z" stroke-width="1.5" />
                      <path d="M16 8L18 8C19.1046 8 20 7.10457 20 6C20 4.89543 19.1046 4 18 4C16.8954 4 16 4.89543 16 6L16 8Z" stroke-width="1.5" />
                      <path d="M4 20L6 20C7.10457 20 8 19.1046 8 18C8 16.8954 7.10457 16 6 16C4.89543 16 4 16.8954 4 18L4 20Z" stroke-width="1.5" />
                      <path d="M8 20L10 20C11.1046 20 12 19.1046 12 18C12 16.8954 11.1046 16 10 16C8.89543 16 8 16.8954 8 18L8 20Z" stroke-width="1.5" />
                      <path d="M12 20L14 20C15.1046 20 16 19.1046 16 18C16 16.8954 15.1046 16 14 16C12.8954 16 12 16.8954 12 18L12 20Z" stroke-width="1.5" />
                      <path d="M16 20L18 20C19.1046 20 20 19.1046 20 18C20 16.8954 19.1046 16 18 16C16.8954 16 16 16.8954 16 18L16 20Z" stroke-width="1.5" />
                      <path d="M8 12L16 12C15.5 12 15 11.5 15 10.5C15 9.5 15.5 9 16 9L8 9C8.5 9 9 9.5 9 10.5C9 11.5 8.5 12 8 12Z" stroke-width="1.5" />
                    </svg>
                  {% else %}
                    <svg class="gbl-category-icons__icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <circle cx="12" cy="12" r="7" stroke-width="1.5" />
                    </svg>
                {% endcase %}
              {% endif %}
            </div>
            <span class="gbl-category-icons__title">{{ block.settings.title }}</span>
          </a>
        {% endfor %}
      </div>
    </div>
  </div>
  
  {% schema %}
  {
    "name": "Category Icons",
    "tag": "section",
    "class": "section",
    "settings": [
      {
        "type": "color",
        "id": "icon_background",
        "label": "Icon Background Color",
        "default": "#f7f4ef"
      },
      {
        "type": "color",
        "id": "active_background",
        "label": "Active Icon Background",
        "default": "#f7f4ef"
      },
      {
        "type": "color",
        "id": "icon_color",
        "label": "Icon Color",
        "default": "#d4af37"
      },
      {
        "type": "color",
        "id": "text_color",
        "label": "Text Color",
        "default": "#272727"
      },
      {
        "type": "color",
        "id": "icon_border_color",
        "label": "Icon Border Color",
        "default": "#d4af37"
      },
      {
        "type": "range",
        "id": "border_radius",
        "min": 0,
        "max": 20,
        "step": 1,
        "unit": "px",
        "label": "Border Radius",
        "default": 4
      },
      {
        "type": "checkbox",
        "id": "show_border",
        "label": "Show Border",
        "default": true
      }
    ],
    "blocks": [
      {
        "type": "category",
        "name": "Category",
        "settings": [
          {
            "type": "text",
            "id": "title",
            "label": "Category Title",
            "default": "Category"
          },
          {
            "type": "url",
            "id": "link",
            "label": "Link"
          },
          {
            "type": "select",
            "id": "icon",
            "label": "Icon",
            "options": [
              {
                "value": "rings",
                "label": "Rings"
              },
              {
                "value": "bracelet",
                "label": "Bracelet"
              },
              {
                "value": "earrings",
                "label": "Earrings"
              },
              {
                "value": "necklace",
                "label": "Necklace"
              },
              {
                "value": "chain",
                "label": "Chain"
              },
              {
                "value": "custom",
                "label": "Custom Icon"
              }
            ],
            "default": "rings"
          },
          {
            "type": "image_picker",
            "id": "custom_icon",
            "label": "Custom Icon",
            "info": "Upload a custom icon (preferably SVG or PNG with transparent background)"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Category Icons",
        "blocks": [
          {
            "type": "category",
            "settings": {
              "title": "RINGS",
              "icon": "rings",
              "link": "/collections/rings"
            }
          },
          {
            "type": "category",
            "settings": {
              "title": "BRACELET",
              "icon": "bracelet",
              "link": "/collections/bracelets"
            }
          },
          {
            "type": "category",
            "settings": {
              "title": "EARRINGS",
              "icon": "earrings",
              "link": "/collections/earrings"
            }
          },
          {
            "type": "category",
            "settings": {
              "title": "NECKLACE",
              "icon": "necklace",
              "link": "/collections/necklace"
            }
          },
          {
            "type": "category",
            "settings": {
              "title": "CHAIN",
              "icon": "chain",
              "link": "/collections/chain"
            }
          }
        ]
      }
    ]
  }
  {% endschema %}